---
title: webAPI
---
æœ¬ç¯‡è®²è§£é¡µé¢ä¸­çš„ä¸€äº›apiä¸ç”¨æ³•å’Œå…¼å®¹

ğŸ¤ª
## ä¸€ã€ä»€ä¹ˆæ˜¯webAPI?
- web: ç½‘é¡µ
- API: æ¥å£ ä¸€å¥—åˆ«äººå°è£…çš„å±æ€§å’Œæ–¹æ³•
- webAPI: ä¸“é—¨æ“ä½œç½‘é¡µçš„æ–¹æ³•å’Œå±æ€§
`ä¸‡ç‰©çš†å¯¹è±¡ï¼Œåœ¨webAPIä¸­æŠŠç½‘é¡µä¸­æ‰€æœ‰å…ƒç´  <element> éƒ½å½“æˆå¯¹è±¡æ¥å¤„ç†`
----
## äºŒã€æ–‡æ¡£æ ‘
### 2.1 ä¸‰ä¸ªéƒ¨åˆ†
- æ–‡æ¡£: document
- å…ƒç´ : ç½‘é¡µä¸­çš„æ ‡ç­¾
- èŠ‚ç‚¹: ç½‘é¡µä¸­æ‰€æœ‰çš„å†…å®¹éƒ½å«èŠ‚ç‚¹(åŒ…æ‹¬æ ‡ç­¾ã€å±æ€§ã€æ–‡æœ¬ã€æ³¨é‡Š)
### 2.2 èŠ‚ç‚¹çš„ä¸‰ä¸ªå±æ€§
```
1. nodeType(èŠ‚ç‚¹ç±»å‹)
2. nodeName(èŠ‚ç‚¹åå­—)
3. nodeValue(èŠ‚ç‚¹å€¼)
```

#### 2.2.1 å…ƒç´ èŠ‚ç‚¹
`å…ƒç´ èŠ‚ç‚¹å°±æ˜¯æ ‡ç­¾èŠ‚ç‚¹`
1. nodeType: 1
2. nodeName: æ ‡ç­¾å(å¤§å†™) 
3. nodeValue: null

#### 2.2.2 å±æ€§èŠ‚ç‚¹
`å±æ€§åŒ…æ‹¬å±æ€§åå’Œå±æ€§å€¼`
1. nodeType: 2
2. nodeName: å±æ€§å
3. nodeValue: å±æ€§å€¼

#### 2.2.3 æ–‡æœ¬èŠ‚ç‚¹
1. nodeType: 3
2. nodeName: #text
3. nodeValue: æ–‡æœ¬å†…å®¹

#### 2.2.4 æ³¨é‡ŠèŠ‚ç‚¹
1. nodeType: 8
2. nodeName: #comment
3. nodeValue: æ³¨é‡Šå†…å®¹
----
## ä¸‰ã€windowå¯¹è±¡
- windowå¯¹è±¡ä»£è¡¨æµè§ˆå™¨ 
- windowå¯¹è±¡æ˜¯JavaScriptä¸­çš„é¡¶çº§å¯¹è±¡
- ä»»ä½•**å…¨å±€å˜é‡**å’Œ**å…¨å±€å‡½æ•°**å£°æ˜å åœ¨é¢„è§£æçš„è¿‡ç¨‹ä¸­éƒ½ä¼šè‡ªåŠ¨ä¿å­˜ä¸ºwindowå¯¹è±¡é‡Œé¢çš„å±æ€§å’Œæ–¹æ³•
- windowçš„ä¸¤ä¸ªç‰¹æ®Šå±æ€§åä¸èƒ½å†æ¬¡å£°æ˜!! 
`name: nameå±æ€§åä¸ç®¡èµ‹å€¼ä»»ä½•å€¼éƒ½ä¼šè½¬æ¢ä¸ºå­—ç¬¦ä¸² let name = {}; -> [object Object] `
`top`
- windowçš„ä¸¤ä¸ªæ–¹æ³•
```
window.open(href); /*æ‰“å¼€ä¸€ä¸ªç½‘é¡µ*/
window.close(); /*å…³é—­ç½‘é¡µ*/
```
----
## å››ã€äº‹ä»¶
#### 4.1 ä»€ä¹ˆæ˜¯äº‹ä»¶?
> åœ¨è®¡ç®—æœºä¸­ äº‹ä»¶ä»£è¡¨æ•æ‰äº†ç”¨æˆ·è¿›è¡Œäº†ä»€ä¹ˆæ“ä½œ å†ç»™å¯¹åº”çš„äº‹ä»¶å¤„ç†
#### 4.2 äº‹ä»¶ä¸‰å¤§éƒ¨åˆ†
`äº‹ä»¶æº äº‹ä»¶ç±»å‹ äº‹ä»¶å¤„ç†å‡½æ•°`
##### 4.2.1 äº‹ä»¶æº
> ç”¨æˆ·æ“ä½œçš„æ˜¯ä»€ä¹ˆå…ƒç´  äº‹ä»¶ä¸­çš„thiså°±æ˜¯äº‹ä»¶çš„äº‹ä»¶æº(è°è§¦å‘è¿™ä¸ªäº‹ä»¶é‚£thiså°±æ˜¯è°)

##### 4.2.2 äº‹ä»¶ç±»å‹
> ç”¨æˆ·è¿›è¡Œäº†ä»€ä¹ˆæ“ä½œ
###### 4.2.2.1 on
- onmouseover é¼ æ ‡ç§»å…¥
- onmouseout é¼ æ ‡ç§»å‡º
- window.onload å½“é¡µé¢åŠ è½½å®Œæˆåæ‰§è¡Œ
`å…¥å£å‡½æ•° å¦‚æœæƒ³å°†jsä»£ç å†™åœ¨htmlä¹‹å‰ å°±å¯ä»¥ç”¨è¿™ä¸ªäº‹ä»¶ å°†jsä»£ç å†™åœ¨äº‹ä»¶å¤„ç†å‡½æ•°ä¸­`
- window.onunload å½“é¡µé¢é€€å‡ºå‰æ‰§è¡Œ 
`å¯ä»¥ä¿å­˜ç”¨æˆ·ä¿¡æ¯ => ç”¨æˆ·æœªä¿å­˜ä¿¡æ¯ç›´æ¥é€€å‡ºç½‘é¡µ`
- onfocus è·å¾—ç„¦ç‚¹
æ–‡æœ¬æ¡†å…‰æ ‡é—ªçƒ
- onblur å¤±å»ç„¦ç‚¹
- onkeyup é”®ç›˜å¼¹èµ·
- onkeydown é”®ç›˜æŒ‰ä¸‹
- onscroll æ»šåŠ¨
`å½“æ»šåŠ¨é¡µé¢æ»šåŠ¨æ¡æ—¶è§¦å‘`
- onclick ç‚¹å‡»
`onclick å’Œ onmousedown åŒºåˆ«`
`onclick æŒ‰ä¸‹å¼¹èµ·æ‰è§¦å‘`
`onmousedown æŒ‰ä¸‹å°±ä¼šè§¦å‘`

*å®ç°æ‹–æ‹½*
*è¦è€ƒè™‘å…ƒç´ æ˜¯å¦æœ‰margin ç§»åŠ¨çš„xå’ŒyğŸ‰ï¸å‡å»å…ƒç´ åŸæœ‰çš„margin*
*ç»™å…ƒç´ æ·»åŠ é¼ æ ‡æŒ‰ä¸‹äº‹ä»¶*
*åœ¨æŒ‰ä¸‹äº‹ä»¶é‡Œé¢ç»™é¡µé¢æ·»åŠ é¼ æ ‡ç§»åŠ¨äº‹ä»¶*
*ç»™å…ƒç´ æ³¨å†Œé¼ æ ‡å¼¹èµ·äº‹ä»¶ => æ¸…é™¤é¡µé¢é¼ æ ‡ç§»åŠ¨äº‹ä»¶*
- onmousedown é¼ æ ‡æŒ‰ä¸‹
- onmouseup é¼ æ ‡å¼¹èµ·
- onmousemove é¼ æ ‡ç§»åŠ¨

*H5æ‹–æ‹½*
*éœ€è¦ä¸ºæ‹–æ‹½çš„å…ƒç´ æ·»åŠ  draggable = "true" å±æ€§*
**æ‹–æ‹½å…ƒç´ æ·»åŠ **
- ondragstart æ‹–æ‹½å¼€å§‹
- ondrag æ‹–æ‹½ä¸­
- ondragend æ‹–æ‹½ç»“æŸ
**æ‹–æ‹½çš„ç›®æ ‡å…ƒç´ æ·»åŠ **
- ondropenter æœ‰å…ƒç´ æ‹–è¿›æ¥è§¦å‘
- ondropleave æœ‰å…ƒç´ æ‹–æ‹½ç¦»å¼€è§¦å‘
- ondropover ä¸»è¦æ˜¯ä¸ºäº†é…åˆondropä½¿ç”¨ï¼Œä¸€å®šè¦åœ¨ondropoveräº‹ä»¶é‡Œè°ƒç”¨`e.preventDefault()`æ‰èƒ½è®©ondropè§¦å‘
- ondrop æœ‰å…ƒç´ æ‹–åˆ°æˆ‘èŒƒå›´å†…å¹¶æ¾æ‰‹æ‰è§¦å‘
###### 4.2.2.2 addEventListener()
ä¸‰å‚æ•°
```
/*
äº‹ä»¶å ä¸åŠ on
äº‹ä»¶å¤„ç†å‡½æ•°
booleanå€¼ æ˜¯å¦äº‹ä»¶æ•æ‰
*/
el.addEventListener()
```
ie8 ä¸æ”¯æŒ `addEventListener `
ä¸¤å‚æ•°
```
/*
äº‹ä»¶å åŠ on
äº‹ä»¶å¤„ç†å‡½æ•°
*/
el.attachEvent()
```
###### 4.2.2.3 `onäº‹ä»¶å’ŒaddEventListener æ·»åŠ äº‹ä»¶çš„åŒºåˆ«`
>å…ƒç´ .onäº‹ä»¶ = å¤„ç†å‡½æ•°
(æ·»åŠ äº‹ä»¶ å¦‚æœæ˜¯åŒåäº‹ä»¶ï¼Œåé¢çš„äº‹ä»¶å¤„ç†å‡½æ•°ä¼šè¦†ç›–å‰é¢çš„)
å…ƒç´ .addEventListener()
(æ·»åŠ äº‹ä»¶ ä¸ä¼šè¦†ç›–ä¹‹å‰çš„åŒåäº‹ä»¶)
###### 4.2.2.4 ç§»é™¤äº‹ä»¶
> ç”¨ä»€ä¹ˆæ–¹å¼æ·»åŠ çš„äº‹ä»¶å°±ç”¨ä»€ä¹ˆæ–¹å¼ç§»é™¤äº‹ä»¶
- on => null
```
el.onclick = function(){};
// ç§»é™¤
el.onclick = null;
```
- addEventListener => removeEventListener
`æ³¨æ„:å¦‚æœaddEventListeneræ·»åŠ çš„äº‹ä»¶çš„äº‹ä»¶å¤„ç†å‡½æ•°æ˜¯åŒ¿åå‡½æ•°ä¸èƒ½ç›´æ¥ç§»é™¤äº‹ä»¶ åªèƒ½ç§»é™¤å‘½åäº‹ä»¶ (ie8çš„ attachEvent ä¸€æ ·)`
```
el.addEventListener("click",fn1)
// ç§»é™¤
el.removeEventListener("click",fn1)
```
- attachEvent => detachEvent
```
el.attachEvent("onclick",f1)
// ç§»é™¤
el.detachEvent("onclick",fn1)
```
##### 4.2.3 äº‹ä»¶å¤„ç†å‡½æ•°
> ç”¨æˆ·æ“ä½œåè¦æ‰§è¡Œçš„ä»€ä¹ˆä»£ç 

###### 4.2.3.1 äº‹ä»¶å¯¹è±¡ e
- æœ¬è´¨ä¹Ÿæ˜¯ä¸ªå¯¹è±¡
- ä¿å­˜äº†äº‹ä»¶è§¦å‘æ—¶çš„ç›¸å…³ä¿¡æ¯
- åœ¨äº‹ä»¶å¤„ç†å‡½æ•°ä¸­çš„å½¢å‚é‡Œå†™å‚æ•° e 
ieæœ‰å…¼å®¹é—®é¢˜
å…¼å®¹ä»£ç `e = e || window.event`
- ä¸‰å¤§åæ ‡
>screen
e.screenX å’Œ e.screenY
è·å–çš„æ˜¯ç‚¹å‡»çš„ä½ç½®ç›¸å¯¹äºå±å¹•å·¦ä¸Šè§’çš„åæ ‡

>page
e.pageX,e.pageY
è·å¾—çš„æ˜¯ç‚¹å‡»çš„ä½ç½®ç›¸å¯¹äºé¡µé¢ï¼ˆæ–‡æ¡£ï¼‰å·¦ä¸Šè§’çš„åæ ‡
æœ‰å…¼å®¹æ€§çš„é—®é¢˜,IE8ä¸æ”¯æŒï¼Œè‡ªå·±è®¡ç®—
`pageX = e.clientX + é¡µé¢å¾€å·¦æ»šå‡ºå»çš„è·ç¦» (scrollLeft)`
`pageY = e.clientY + é¡µé¢å¾€ä¸Šæ»šå‡ºå»çš„è·ç¦» (scrollTop)`

>offset
e.offsetX,e.offsetY
è·å¾—æ˜¯æ˜¯ç‚¹å‡»çš„ä½ç½®ç›¸å½“äºäº‹ä»¶æºçš„å·¦ä¸Šè§’çš„ä½ç½®
ieå±æ€§ æœ‰bug
`offsetX = e.clientX - ç›’å­åˆ°å¯è§†åŒºåŸŸçš„left (el.getBoundingClientRect.left)`
`offsetY = e.clientY - ç›’å­åˆ°å¯è§†åŒºåŸŸçš„top (el.getBoundingClientRect.top)`
###### 4.2.3.2 thisã€e.targetã€e.currentTargetåŒºåˆ«
>this å’Œ e.currentTarget æ˜¯ä¸€æ¨£çš„ 
å½“å‰è°ƒç”¨çš„æ˜¯è°çš„äº‹ä»¶ é‚£ä¹ˆthiså°±æ˜¯è° 
e.currentTarget ie8 ä¸æ”¯æŒ => ç›´æ¥ç”¨this

> e.target è·å–äº‹ä»¶æº(ç›®æ ‡é˜¶æ®µ) æ­£åœ¨è§¦å‘äº‹ä»¶çš„é‚£ä¸ªå…ƒç´ 
ie8ä¸æ”¯æŒ => e.target
å…¼å®¹ä»£ç 
`var target = e.target || e.srcElement`

#### 4.3 äº‹ä»¶çš„ä¸‰å¤§é˜¶æ®µ
##### 4.3.1 å¦‚ä½•è·å–äº‹ä»¶æ­£åœ¨æ‰§è¡Œçš„é˜¶æ®µ
> åœ¨äº‹ä»¶é‡Œå¯ä»¥é€šè¿‡ e.eventPhase æ¥æ•è·å½“å‰æ˜¯å“ªä¸ªé˜¶æ®µ
æ•è· => 1
ç›®æ ‡ => 2
å†’æ³¡ => 3

##### 4.3.2 ä¸‰å¤§é˜¶æ®µ
`æ•è· ç›®æ ‡ å†’æ³¡`
###### 4.3.2.1 æ•è·é˜¶æ®µ
>ä¸€ç§ç°è±¡ ä¸å†’æ³¡é˜¶æ®µç›¸å ä»windowå¼€å§‹ ä¾æ¬¡ä¸€çº§ä¸€çº§å¾€ä¸‹è°ƒç”¨å­å…ƒç´ çš„åŒåäº‹ä»¶ï¼Œç›´åˆ°æ‰¾åˆ°çœŸæ­£è§¦å‘äº‹ä»¶çš„äº‹ä»¶æº
äº‹ä»¶æ•è·é»˜è®¤çœ‹ä¸è§ æƒ³è¦çœ‹åˆ°æ•è·é˜¶æ®µåˆ™éœ€è¦é€šè¿‡ addEventListeneræ¥ç»‘å®šäº‹ä»¶ï¼Œå¹¶ä¸”ç¬¬ä¸‰ä¸ªå‚æ•°ä¼ true
###### 4.3.2.2 ç›®æ ‡é˜¶æ®µ
>æ‰¾åˆ°çœŸæ­£è§¦å‘äº‹ä»¶çš„é‚£ä¸ªå…ƒç´  -> äº‹ä»¶æº
###### 4.3.2.3 å†’æ³¡é˜¶æ®µ
> ä¸€ç§ç°è±¡ å½“å…ƒç´ äº‹ä»¶è§¦å‘å ä¼šä»äº‹ä»¶æºå¼€å§‹ä¾æ¬¡ä¸€æ¬¡ä¸€æ¬¡å¾€ä¸Šè°ƒç”¨çˆ¶å…ƒç´ çš„åŒåäº‹ä»¶ï¼Œç›´åˆ°window
äº‹ä»¶å†’æ³¡é»˜è®¤å­˜åœ¨

`å¥½å¤„`ï¼šç»™çˆ¶å…ƒç´ æ·»åŠ äº‹ä»¶ç›¸å½“äºç»™å­å…ƒç´ æ·»åŠ äº†äº‹ä»¶ -> äº‹ä»¶å§”æ‰˜ -> e.target
`å¸¦æ¥çš„å½±å“(åå¤„)`ï¼šå¦‚æœå­å…ƒç´ å’Œçˆ¶å…ƒç´ æœ‰åŒåäº‹ä»¶ å¹¶ä¸”ä¸šåŠ¡é€»è¾‘ç›¸å åˆ™ä¼šå†²çªå½±å“
##### 4.3.3 é˜¶æ®µé¡ºåº
`è®¾ç½®æ•è·`
>å…ˆæ•è· ä»windowå¼€å§‹ ä¾æ¬¡ä¸€çº§ä¸€çº§è°ƒç”¨å­å…ƒç´ çš„åŒåäº‹ä»¶
-> æ‰¾åˆ°ç›®æ ‡(çœŸæ­£è§¦å‘äº‹ä»¶çš„å…ƒç´ )
>-> ä»ç›®æ ‡å…ƒç´ å¼€å§‹ ä¾æ¬¡ä¸€çº§ä¸€çº§è°ƒç”¨çˆ¶å…ƒç´ çš„åŒåäº‹ä»¶ ç›´åˆ°window

`æœªè®¾ç½®æ•è·`
> æ‰¾åˆ°ç›®æ ‡(çœŸæ­£è§¦å‘äº‹ä»¶çš„å…ƒç´ )
-> ä»ç›®æ ‡å…ƒç´ å¼€å§‹ ä¾æ¬¡ä¸€çº§ä¸€çº§è°ƒç”¨çˆ¶å…ƒç´ çš„åŒåäº‹ä»¶ ç›´åˆ°window
##### 4.3.4 é˜»æ­¢äº‹ä»¶æ´¾å‘
*é˜»æ­¢äº‹ä»¶å†’æ³¡å’Œé˜»æ­¢äº‹ä»¶æ•è·*
`e.stopPropagation()`
ie8é­”é¬¼ä¸æ”¯æŒ(ie8åªæœ‰äº‹ä»¶å†’æ³¡ï¼Œæ²¡æœ‰äº‹ä»¶æ•è·) => `e.cancelBubble = true`
---
## äº”ã€æœ¬åœ°å­˜å‚¨
åªèƒ½å­˜å‚¨å­—ç¬¦ä¸²
æŸ¥çœ‹æœ¬åœ°å­˜å‚¨ `æµè§ˆå™¨F12->Application->Local || Session Storage->fille://`
### 5.1 localStorage æœ¬åœ°å­˜å‚¨
>å¯ä»¥æŠŠæ•°æ®å­˜å‚¨åˆ°æœ¬åœ°(æµè§ˆå™¨) åªè¦ç”¨æˆ·ä¸åˆ é™¤ åˆ™ä¼šä¸€ç›´ä¿å­˜ æ¯ä¸ªåŸŸåéƒ½æ˜¯ç‹¬ç«‹çš„ä¿å­˜æ•°æ® ä¸åŒåŸŸåä¸èƒ½äº’ç›¸è®¿é—® é•¿ä¹…ä¿å­˜æ•°æ®å¯ä»¥å­˜å‚¨åˆ° localStorage
- ä¿å­˜æ•°æ® `localStorage.setItem(key,value)`
- è·å–æ•°æ® `localStorage.getItem(key)` => å¦‚æœæ²¡æœ‰è¿™ä¸ªæ•°æ® åˆ™è¿”å› `null`
- åˆ é™¤ä¸€ä¸ªæ•°æ® `localStorage.removeItem(key)`
- æ¸…ç©ºæ‰€æœ‰æ•°æ® `localStorage.clear()`
### 5.2 sessionStorage ä¼šè¯å­˜å‚¨
> çŸ­æš‚å­˜å‚¨æ•°æ® å¯ä»¥å¤šé¡µé¢ä¼ å€¼ ç›¸å½“äºlocalStorageä¼šæ›´å®‰å…¨ æµè§ˆå™¨å…³é—­åå°±ä¸ä¼šä¿å­˜äº†
- ä¿å­˜æ•°æ® `sessionStorage.setItem(key,value)`
- è·å–æ•°æ® `sessionStorage.getItem(key)` => å¦‚æœæ²¡æœ‰è¿™ä¸ªæ•°æ® åˆ™è¿”å› `null`
- åˆ é™¤ä¸€ä¸ªæ•°æ® `sessionStorage.removeItem(key)`
- æ¸…ç©ºæ‰€æœ‰æ•°æ® `sessionStorage.clear()`
----
## å…­ã€å®šæ—¶å™¨å’Œå»¶æ—¶å™¨
*ç»™å…ƒç´ æ·»åŠ åŠ¨ç”»å®šæ—¶å™¨ å¯ä»¥å°†å®šæ—¶å™¨idç›´æ¥ç»™å…ƒç´  `å…ƒç´ .timeId`*
### 6.1 å®šæ—¶å™¨
>æ¯éš”ä¸€æ®µæ—¶é—´æ‰§è¡Œä¸€æ®µä»£ç 
```
/*
å‚æ•°ä¸€: è¦æ‰§è¡Œçš„ä»£ç  å¯ä»¥å†™å­—ç¬¦ä¸² åœ¨å­—ç¬¦ä¸²é‡Œé¢å†™jsä»£ç  æˆ–è€…å†™å‡½æ•°
å‚æ•°äºŒ: é—´éš”äº‹ä»¶ å•ä½æ˜¯æ¯«ç§’ 1000æ¯«ç§’ = 1ç§’
*/
window.setInterval()
```
### 6.2 å»¶æ—¶å™¨
>ä¸€æ®µæ—¶é—´åæ‰§è¡Œä¸€æ®µä»£ç 
```
/*
å‚æ•°ä¸€: è¦æ‰§è¡Œçš„ä»£ç  å¯ä»¥å†™å­—ç¬¦ä¸² åœ¨å­—ç¬¦ä¸²é‡Œé¢å†™jsä»£ç  æˆ–è€…å†™å‡½æ•°
å‚æ•°äºŒ: å»¶è¿Ÿäº‹ä»¶ å•ä½æ˜¯æ¯«ç§’ 1000æ¯«ç§’ = 1ç§’
*/
window.setTimeout()
```
### 6.3 æ¸…é™¤å®šæ—¶å™¨å’Œå»¶æ—¶å™¨
```
clearInterval(å®šæ—¶å™¨id)
clearTimeout(å»¶æ—¶å™¨id)
```
---
## ä¸ƒã€é˜»æ­¢aæ ‡ç­¾é»˜è®¤è·³è½¬ä¸‰ç§æ–¹å¼
### 7.1 href
`å°†aæ ‡ç­¾çš„hrefçš„è·¯å¾„æ”¹ä¸º javascript:void(0) || javascript:void(null) || ç®€å†™ javascript:`
### 7.2 return
`ç»™aæ ‡ç­¾æ·»åŠ ç‚¹å‡»äº‹ä»¶ åœ¨äº‹ä»¶å¤„ç†å‡½æ•°çš„æœ€å return false`
### 7.3 äº‹ä»¶å¯¹è±¡ e
`é˜»æ­¢äº‹ä»¶é»˜è®¤è¡Œä¸º e.preventDefault()`
>returnå’Œäº‹ä»¶å¯¹è±¡eé˜»æ­¢è·³è½¬çš„åŒºåˆ«
returnåé¢çš„ä»£ç ä¸æ‰§è¡Œ
e.preventDefault()ä¸ä¼šå½±å“åé¢ä»£ç æ‰§è¡Œ
---
## å…«ã€æ’ä»–æ€æƒ³
> å…ˆæŠŠå¤§å®¶æ¢å¤æˆé»˜è®¤ï¼Œå†è®©è‡ªå·±ç‰¹æ®Š ` tabåˆ‡æ¢ `
---
## ä¹ã€offsetå®¶æ—
*åªèƒ½è·å–è¡Œå†…æ ·å¼*
> åªèƒ½å–å€¼ (number) ä¸èƒ½èµ‹å€¼
offsetWidth å’Œ offsetHeight è·å–åŒ…æ‹¬paddingå’Œborderå’Œwidth||height 
### 9.1 offsetWidth
`è·å–ç›’å­çš„æœ€ç»ˆå®½åº¦`
### 9.2 offsetHeight
`è·å–ç›’å­çš„æœ€ç»ˆé«˜åº¦`
### 9.3 offsetTop
`è·å–è‡ªèº«ä¸Šå¤–è¾¹æ¡†åˆ°å®šä½çˆ¶çº§ä¸Šå†…è¾¹æ¡†çš„è·ç¦»`
### 9.4 offsetLeft
`è·å–è‡ªèº«å·¦å¤–è¾¹æ¡†åˆ°å®šä½çˆ¶çº§å·¦å†…è¾¹æ¡†çš„è·ç¦»`
![](https://upload-images.jianshu.io/upload_images/12946880-a420cc3504d29078.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
---
## åã€scrollå®¶æ—
> scrollWidth å’Œ scrollHeight è·å–çš„åŒ…æ‹¬äº†éšè—çš„éƒ¨åˆ† åªèƒ½è·å–(number)ä¸èƒ½ä¿®æ”¹
scrollLeft å’Œ scrollTop Â å¯ä»¥è·å–ä¹Ÿå¯ä»¥ä¿®æ”¹ æƒ³è¦æ»šåŠ¨æ¡æ»šåŠ¨åˆ°æœ€å³å˜ ç›´æ¥èµ‹å€¼ä¸º scrollWidthå³å¯ 
### 10.1 scrollWidth
`è·å–ç›’å­å†…å®¹çš„æ€»å®½åº¦`
### 10.2 scrollHeight
`è·å–ç›’å­å†…å®¹çš„æ€»é«˜åº¦`
### 10.3 scrollTop
`è·å–å†…å®¹ä¸Šè¾¹æ»šå‡ºå»çš„è·ç¦»`
### 10.4 scrollLeft
`è·å–å†…å®¹å·¦è¾¹æ»šå‡ºå»çš„è·ç¦»`

*scrollTopå’ŒscrollLeftæœ‰å…¼å®¹é—®é¢˜*
*å…¼å®¹ä»£ç *
```
var scrollTop = window.pageYOffset 
|| document.documentElement.scrollTop 
|| document.body.scrollTop 
|| 0;
```
```
var scrollLeft = window.pageXOffset 
|| document.documentElement.scrollLeft 
|| document.body.scrollLeft 
|| 0;
```
![](https://upload-images.jianshu.io/upload_images/12946880-a20c414ee0057481.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

----
## åä¸€ã€clientå®¶æ—
`å¦‚æœå…ƒç´ æœ‰æ»šåŠ¨æ¡ é‚£ä¹ˆè¿™ä¸ªå…ƒç´ çš„å¯è§†å®½åº¦å°±æ˜¯ æ•´ä¸ªç›’å­çš„å®½åº¦ - æ»šåŠ¨æ¡çš„å®½åº¦`
### 11.1 clientWidth
`è·å–å¯è§†åŒºåŸŸçš„å®½`
### 11.2 clientHeight
`è·å–å¯è§†åŒºåŸŸçš„é«˜`
### 11.3 clientTop
`è·å–å·¦è¾¹æ¡†çš„å®½åº¦`
### 11.4 clientLeft
`è·å–ä¸Šè¾¹çœ‹çš„å®½åº¦`

----
## åäºŒã€æ“ä½œå…ƒç´ çš„æ–¹å¼
### 12.1 é€šè¿‡idè·å–å…ƒç´ 
*å¦‚æœæ²¡æœ‰è¿™ä¸ªå…ƒç´  åˆ™è¿”å›null æœ‰åˆ™è¿”å›ä¸€ä¸ªå¯¹è±¡*
> è·å– id åªèƒ½é€šè¿‡documentæ¥è·å–

`document.getElementById("id")`
### 12.2 æ ·å¼åè·å–å…ƒç´ 
*å¦‚æœæ²¡æœ‰è¿™ä¸ªå…ƒç´  åˆ™è¿”å›ä¸€ä¸ªç©ºé›†åˆ[ä¼ªæ•°ç»„]*
`document.getElementsByClassName('class')`
#### 12.2.1 ä»€ä¹ˆæ˜¯ä¼ªæ•°ç»„?
- æœ‰ä¸‹æ ‡ç´¢å¼•ã€æœ‰å…ƒç´ ã€æœ‰é•¿åº¦ ä½†æ˜¯æ²¡æœ‰æ•°ç»„ä¸­çš„æ–¹æ³•
### 12.3 é€šè¿‡æ ‡ç­¾åæ¥è·å–å…ƒç´ 
*ie8é­”é¬¼æœ‰å…¼å®¹é—®é¢˜*
`document.getElementsByTagName("div")`
### 12.4 é€šè¿‡nameå±æ€§æ¥è·å–å…ƒç´ (è¡¨å•å…ƒç´ )
`document.getElementsByName("name")`
### 12.5 é€šè¿‡cssé€‰æ‹©å™¨æ¥è·å–å…ƒç´  (h5æ–°å¢)
- è·å–çš„æ˜¯ä¸€ä¸ªå¯¹è±¡ å¦‚æœåŒ¹é…åˆ°å¤šä¸ªå…ƒç´ åˆ™è¿”å›ç¬¬ä¸€ä¸ªå…ƒç´ 
`document.querySelector(selectors)`
- è·å–çš„æ˜¯ä¸€ä¸ªä¼ªæ•°ç»„
`document.querySelectorAll(selectors)`
### 12.6 è·å–æ–‡æ¡£
`document`
### 12.7 è·å–html
`document.documentElement`
### 12.8 è·å–head
`document.head`
### 12.9 è·å–body
`document.body`
### 12.10 è·å–å­èŠ‚ç‚¹å’Œå­å…ƒç´ 
- å­èŠ‚ç‚¹
`el.childNodes`
- å­å…ƒç´ 
`el.childNodes`
### 12.11 è·å–çˆ¶èŠ‚ç‚¹å’Œçˆ¶å…ƒç´ 
*åŒºåˆ«*
>el.parentNodeå¯ä»¥è·å–åˆ°document
el.parentElementä¸èƒ½è·å–åˆ°document
å› ä¸ºdocumentä¸æ˜¯ä¸€ä¸ªå…ƒç´ 
- çˆ¶èŠ‚ç‚¹
`el.parentNode`
- çˆ¶å…ƒç´ 
`el.parentNode`
### 12.12 è·å–ä¸Šä¸€ä¸ªå…„å¼ŸèŠ‚ç‚¹å’Œä¸Šä¸€ä¸ªå…„å¼Ÿå…ƒç´ 
- æ‰¾åˆ°ä¸Šä¸€ä¸ªå…„å¼ŸèŠ‚ç‚¹(æ–‡æœ¬ã€æ³¨é‡Šã€æ ‡ç­¾)ï¼Œæ‰€æœ‰æµè§ˆå™¨éƒ½æ”¯æŒ
`el.previousSibling`
- æ‰¾åˆ°ä¸Šä¸€ä¸ªå…„å¼Ÿå…ƒç´ (åªä¼šæ‰¾åˆ°å…ƒç´ )ï¼ŒIE9ä»¥ä¸‹éƒ½ä¸æ”¯æŒ
`el.previousElementSibling`
### 12.13 è·å–ä¸‹ä¸€ä¸ªå…„å¼ŸèŠ‚ç‚¹å’Œä¸‹ä¸€ä¸ªå…„å¼Ÿå…ƒç´ 
- æ‰¾åˆ°ä¸‹ä¸€ä¸ªå…„å¼ŸèŠ‚ç‚¹(æ–‡æœ¬ã€æ³¨é‡Šã€æ ‡ç­¾)ï¼Œæ‰€æœ‰æµè§ˆå™¨éƒ½æ”¯æŒ
`el.nextSibling`
- æ‰¾åˆ°ä¸‹ä¸€ä¸ªå…„å¼Ÿå…ƒç´ (åªä¼šæ‰¾åˆ°å…ƒç´ )ï¼ŒIE9ä»¥ä¸‹éƒ½ä¸æ”¯æŒ
`el.nextElementSibling`
### 12.14 æ·»åŠ å­å…ƒç´ 
`çˆ¶å…ƒç´ .appendChild("å­å…ƒç´ ")`
### 12.15 åˆ é™¤å­å…ƒç´ 
`çˆ¶å…ƒç´ .removeChild("å­å…ƒç´ ")`
### 12.16 åœ¨æŸä¸ªå­å…ƒç´ å‰é¢æ’å…¥å…ƒç´ 
`çˆ¶å…ƒç´ .insertBefore(æ’å…¥çš„æ–°å…ƒç´ ,è¦åœ¨å“ªä¸ªå…ƒç´ å‰é¢æ’å…¥)`
### 12.17 æ›¿æ¢å­å…ƒç´ 
`çˆ¶å…ƒç´ .replaceChild(æ–°çš„å…ƒç´ ,è¢«æ›¿æ¢çš„å…ƒç´ )`

----
## åä¸‰ã€æ“ä½œå±æ€§çš„å¦äºŒç§æ–¹å¼
### 13.1 js æ“ä½œå±æ€§
*æ—¢å¯ä»¥æ“ä½œè‡ªå¸¦å±æ€§ï¼Œä¹Ÿå¯ä»¥æ“ä½œè‡ªå®šä¹‰å±æ€§*
- è·å–å±æ€§
`el.getAttribute("å±æ€§å")`
- ä¿®æ”¹å±æ€§
`el.setAttribute("å±æ€§å","å±æ€§å€¼")`
- åˆ é™¤å±æ€§
 `el.removeAttribute("å±æ€§å")`

### 13.2 h5 æ“ä½œå±æ€§
>åœ¨è‡ªå®šä¹‰å±æ€§å‰é¢åŠ  data-
å¦‚æœè‡ªå®šä¹‰å±æ€§å‰é¢æ·»åŠ äº† data- 
é‚£ä¹ˆè¿™äº›è‡ªå®šä¹‰å±æ€§éƒ½ä¼šä¿å­˜åˆ°el.dataset 'å¯¹è±¡' é‡Œé¢
æƒ³è¦å–å¾—å±æ€§ç›´æ¥éå†å¯¹è±¡å³å¯
å–å€¼æ—¶ data-ä¼šè¢«å»æ‰ å¹¶ä¸”å¦‚æœåé¢è¿˜æœ‰- 
ä¼šæŠŠåé¢çš„-ä¹Ÿå»æ‰ å¹¶æŠŠ-åé¢çš„é¦–å­—æ¯å¤§å†™(é©¼å³°å‘½åæ³•)
- è·å¾—å±æ€§
`el.dataset["shengao"]`
`e.dataset.shengao`
- ä¿®æ”¹å±æ€§
`el.dataset["shengao"] = "123cm"`
- åˆ é™¤å±æ€§
`delete el.dataset["shengao"]`
--- 
## åå››ã€åˆ›å»ºå…ƒç´ çš„ä¸‰ç§æ–¹å¼
- document.write()
>åªèƒ½åœ¨bodyæ·»åŠ å…ƒç´ ï¼Œå¹¶ä¸”ä¼šè¦†ç›–ä¹‹å‰é¡µé¢ä¸­çš„å…ƒç´ 
- document.createElement()
>åˆ›å»ºä¸€ä¸ªæ ‡ç­¾å­˜åœ¨å†…å­˜é‡Œé¢
>å†é€šè¿‡ çˆ¶å…ƒç´ .appendChild(â€œåˆ›å»ºå‡ºæ¥çš„å…ƒç´ â€) æ¸²æŸ“åˆ°é¡µé¢
>appendChildç»†èŠ‚
>ç»™çˆ¶å…ƒç´ è¿½åŠ ä¸€ä¸ªå…ƒç´ ï¼Œæ·»åŠ åœ¨æœ€åï¼Œå¦‚æœæ­¤å…ƒç´ å·²ç»å­˜åœ¨ï¼Œåˆ™è¢«ç§»åŠ¨åˆ°æœ€å
- el.innerHtml()
>ä¸ºæŸå…ƒç´ æ·»åŠ å†…å®¹ï¼Œä¼šè¦†ç›–åŸæ¥çš„å†…å®¹
+= å°±åªä¼šè¿½åŠ ä¸ä¼šè¦†ç›–
æ¯æ¬¡innerHtmlèµ‹å€¼(+=)éƒ½æ˜¯é‡æ–°æ¸²æŸ“ï¼Œ
æ‰€ä»¥æœ‰å¯èƒ½ä¼šè®©ä¹‹å‰çš„å…ƒç´ ä¸¢å¤±ï¼Œ
è¿˜ä¼šè®©ä¹‹å‰å…ƒç´ çš„äº‹ä»¶ä¸¢å¤±(äº‹ä»¶å§”æ‰˜å¯è§£å†³)
æ¸²æŸ“è€—æ€§èƒ½ï¼Œå¤§é‡èµ„æºæµªè´¹
`å…ˆæ‹¼æ¥å­—ç¬¦ä¸² å†å¾ªç¯å®Œäº†åä¸€æ¬¡æ€§è¿½åŠ åˆ°é¡µé¢ä¸­`
----
## åäº”ã€ä¿®æ”¹å…ƒç´ çš„å±æ€§
### 15.1 æ“ä½œå…ƒç´ æ ·å¼ä¸­çš„å±æ€§
- è·å–
`å…ƒç´ .style.æ ·å¼å`
- ä¿®æ”¹
`å…ƒç´ .style.æ ·å¼å = æ ·å¼å€¼`
*æ³¨æ„*
>æ ·å¼å å¦‚æœåœ¨css æœ‰ "-" çš„ åº”ä½¿ç”¨ é©¼å³°å‘½åæ³• 
`background-color => backgroundColor`
### 15.2 æ“ä½œå›¾ç‰‡çš„è·¯å¾„
- è·å–
`å…ƒç´ .scr`
- ä¿®æ”¹
`å…ƒç´ .scr = "è·¯å¾„"`
### 15.3 æ“ä½œå•æ ‡ç­¾æŒ‰é’®çš„æ–‡å­—
- è·å–
`å…ƒç´ .value`
- ä¿®æ”¹
`å…ƒç´ .value = "å€¼"`
### 15.4 æ“ä½œå…ƒç´ çš„ç±»å
#### 15.4.1 JavaScript
- è·å–
`å…ƒç´ .className`
- æ·»åŠ 
`å…ƒç´ .className += " class"`
*æ³¨æ„ ç”¨+= å¾—åŠ ç©ºæ ¼*
#### 15.4.2 HTML5
> el.classList è¿”å›çš„æ˜¯ä¸€ä¸ªä¼ªæ•°ç»„ ä¿å­˜çš„æ˜¯å…ƒç´ ä¸Šçš„æ‰€æœ‰ç±»å
- æ·»åŠ ä¸€ä¸ªç±»
`el.classList.add("class")`
- åˆ é™¤ä¸€ä¸ªç±»
`el.classList.remove("class")`
- ä¿®æ”¹ä¸€ä¸ªç±»
`el.classList.replace("è¢«æ›¿æ¢çš„ç±»","è¦æ›¿æ¢çš„æ–°ç±»")`
- åˆ‡æ¢ä¸€ä¸ªç±»
`el.classList.toggle("class")`
*æ²¡æœ‰å°±æ·»åŠ è¿™ä¸ªç±» æœ‰å°±åˆ é™¤è¿™ä¸ªç±»*
- åˆ¤æ–­ä¸€ä¸ªç±»æ˜¯å¦å­˜åœ¨
`el.classList.contains("class")`
*å­˜åœ¨è¿”å›true ä¸å­˜åœ¨è¿”å›false*
### 15.5 æ“ä½œå…ƒç´ æ˜¾ç¤ºoréšè—
- æ˜¾ç¤º
`å…ƒç´ .style.displaye = "block"`
- éšè—
`å…ƒç´ .style.displaye = "none"`
*å¦‚æœæƒ³è¦é€šè¿‡ä¸€ä¸ªæŒ‰é’®åˆ‡æ¢æ˜¾ç¤ºéšè—å¯ä»¥å£°æ˜ä¸€ä¸ªflag è®°å½•æ˜¾ç¤ºå’Œéšè—çš„çŠ¶æ€*
>let flag = this.value == "éšè—" ? true : false
divBox.style.display = flag ? "none" : "block"
this.value = flag ? "æ˜¾ç¤º" : "éšè—" // è¿™é‡Œç”¨æ¥ä¸‹ä¸€æ¬¡
ç‚¹å‡»å†æ¬¡toggle æ‰€ä»¥éœ€è¦ä¸è®¾ç½®çš„flagç›¸åè®¾å®šå¯¹åº”çš„å€¼

### 15.6 è¡¨å•å…ƒç´ çš„ç¦ç”¨å’Œå¯åŠ¨
- el.style.disabled = true
>åŠ ä¸Šä»£è¡¨ç¦ç”¨ ä¸åŠ ä¸Šä»£è¡¨å¯åŠ¨
jsé‡Œé¢è®¾ç½®å®ƒä¸º true ä»£è¡¨ç¦ç”¨ã€false ä»£è¡¨å¯ç”¨

### 15.7 æ“ä½œåŒæ ‡ç­¾çš„æ–‡å­—
- è·å–
`å…ƒç´ .innerText`
- ä¿®æ”¹
`å…ƒç´ .innerText = "å€¼"`
----
## åå…­ã€innerHTMLã€innerTextã€textContentçš„åŒºåˆ«
>innerHTMLæ²¡æœ‰å…¼å®¹é—®é¢˜ æ—¢å¯ä»¥æ‹¿åˆ°æ–‡æœ¬ä¹Ÿå¯ä»¥æ¸²æŸ“æ ‡ç­¾

> innerTextå’ŒtextContentéƒ½æ˜¯è®¾ç½®æ ‡ç­¾é‡Œé¢çš„æ–‡æœ¬å†…å®¹ 
å°†æ•°æ®å½“æˆå­—ç¬¦ä¸²è¾“å‡ºåˆ°é¡µé¢ ä¸ä¼šæ¸²æŸ“
innerTextåœ¨è€ç‰ˆç«ç‹é‡Œé¢ä¸æ”¯æŒ
textContentåœ¨ie9ä»¥ä¸‹éƒ½ä¸æ”¯æŒ
----
## åä¸ƒã€è¡¨å•å…ƒç´ å±æ€§
- value
`å¯ä»¥è·å–å¤§éƒ¨åˆ†è¡¨å•å…ƒç´ çš„å†…å®¹(optioné™¤å¤–)`
- type
`å¯ä»¥è·å–è¡¨å•å…ƒç´ çš„ç±»å‹`
- disabled
`ç¦ç”¨å±æ€§`
- checked
`å¤é€‰æ¡†é€‰ä¸­`
- selected
`ä¸‹æ‹‰æ¡†é€‰ä¸­`

----
## åå…«ã€è·å–å…ƒç´ çš„æœ€ç»ˆæ ·å¼
```
window.getComputedStyle(element)["width"]
window.getComputedStyle(element).width
```
è¿”å›çš„stringå±æ€§å€¼ "100px"
```
/*ie8é­”é¬¼ä¸“ç”¨*/
element.currentStyle['width']
```
---
## åä¹ã€è·å–å…ƒç´ åˆ°å¯è§†åŒºåŸŸçš„è·ç¦»
```
element.getBoundingClientRect()
element.getBoundingClientRect().left
element.getBoundingClientRect().top
```

*è·å–é¼ æ ‡ä½ç½®ç›¸å¯¹äºè‡ªèº«çš„xå’Œy*
(offsetXå’ŒoffsetYæœ‰bug)
`e.clientX - ç›’å­åˆ°å¯è§†åŒºåŸŸçš„left`
`e.clientY - ç›’å­åˆ°å¯è§†åŒºåŸŸçš„top`

---
## XMindæ€ç»´å¯¼å›¾
![webAPI.png](https://upload-images.jianshu.io/upload_images/12946880-a59e622e50b2a619.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

